<div class="quest-completion" *ngIf="isOpen && rewards" (click)="close.emit()">
  <div class="quest-completion__card" (click)="$event.stopPropagation()" role="dialog" aria-modal="true">
    <div class="icon">âœ“</div>
    <div class="header">
      <div class="label">QUEST COMPLETE</div>
      <h2>{{ questTitle || 'Quest Complete' }}</h2>
    </div>

    <div class="level-up" *ngIf="rewards.leveledUp">
      <div class="emoji">ğŸ‰</div>
      <div class="title">LEVEL UP!</div>
      <div class="detail">You reached Level {{ rewards.newLevel }}</div>
    </div>

    <div class="rewards">
      <div class="section-label">Rewards Earned</div>
      <div class="reward-row xp">
        <span>â­</span>
        <span>+{{ rewards.xp }} XP</span>
      </div>
      <div class="reward-row credits">
        <span>ğŸ’°</span>
        <span>+{{ rewards.credits }} Credits</span>
      </div>
      <div class="reward-row align" *ngIf="getAlignmentShift(rewards) as alignmentShift">
        <span>{{ alignmentShift.faction === 'kurenai' ? 'ğŸ”¥' : 'âš¡' }}</span>
        <span [style.color]="getAlignmentColor(alignmentShift.faction)">
          {{ alignmentShift.faction === 'kurenai' ? 'Kurenai' : 'Azure' }} +{{ alignmentShift.amount }}
        </span>
      </div>
      <div class="reward-row items" *ngIf="rewards.items?.length as itemCount">
        <span>ğŸ</span>
        <span>{{ itemCount }} Item{{ itemCount > 1 ? 's' : '' }}</span>
      </div>
    </div>

    <button type="button" class="continue" (click)="close.emit()">Continue</button>
  </div>
</div>
